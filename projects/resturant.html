<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant Manager System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Arial', sans-serif; background-color: #f8f9fa; }
        .tab-content { display: none; animation: fadeIn 0.5s ease-in; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .card { transition: transform 0.2s; }
        .card:hover { transform: translateY(-5px); }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; }
        .modal.active { display: flex; align-items: center; justify-content: center; }
    </style>
</head>
<body class="bg-gray-100">
    <header class="bg-white shadow-md p-4">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-2xl font-bold text-gray-800">Restaurant Delight Manager</h1>
            <nav>
                <ul class="flex space-x-4">
                    <li><a href="#" class="tab-link text-gray-700 hover:text-blue-600" data-tab="home">Home</a></li>
                    <li><a href="#" class="tab-link text-gray-700 hover:text-blue-600" data-tab="menu">Menu</a></li>
                    <li><a href="#" class="tab-link text-gray-700 hover:text-blue-600" data-tab="orders">Orders</a></li>
                    <li><a href="#" class="tab-link text-gray-700 hover:text-blue-600" data-tab="tables">Tables</a></li>
                    <li><a href="#" class="tab-link text-gray-700 hover:text-blue-600" data-tab="reports">Reports</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container mx-auto p-4">
        <!-- Home/Dashboard -->
        <div id="home" class="tab-content active">
            <h2 class="text-3xl font-semibold mb-4 text-gray-800">Dashboard</h2>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                <div class="card bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-bold text-blue-600">Total Orders Today</h3>
                    <p id="total-orders" class="text-2xl">0</p>
                </div>
                <div class="card bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-bold text-green-600">Total Revenue</h3>
                    <p id="total-revenue" class="text-2xl">$0.00</p>
                </div>
                <div class="card bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-bold text-yellow-600">Available Tables</h3>
                    <p id="available-tables" class="text-2xl">0</p>
                </div>
                <div class="card bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-bold text-red-600">Pending Orders</h3>
                    <p id="pending-orders" class="text-2xl">0</p>
                </div>
            </div>
            <div class="mt-8">
                <h3 class="text-2xl font-semibold mb-4 text-gray-800">Recent Orders</h3>
                <div id="recent-orders" class="bg-white p-4 rounded-lg shadow-md">
                    <!-- Recent orders will be populated here -->
                </div>
            </div>
        </div>

        <!-- Menu Management -->
        <div id="menu" class="tab-content">
            <h2 class="text-3xl font-semibold mb-4 text-gray-800">Menu Management</h2>
            <button id="add-dish-btn" class="bg-blue-500 text-white px-4 py-2 rounded mb-4 hover:bg-blue-600">Add New Dish</button>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="menu-list">
                <!-- Dishes will be listed here -->
            </div>
        </div>

        <!-- Orders Management -->
        <div id="orders" class="tab-content">
            <h2 class="text-3xl font-semibold mb-4 text-gray-800">Orders Management</h2>
            <button id="new-order-btn" class="bg-blue-500 text-white px-4 py-2 rounded mb-4 hover:bg-blue-600">New Order</button>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div id="pending-orders-list" class="bg-white p-4 rounded-lg shadow-md">
                    <h3 class="text-xl font-bold mb-2 text-gray-800">Pending Orders</h3>
                    <!-- Pending orders will be populated here -->
                </div>
                <div id="completed-orders-list" class="bg-white p-4 rounded-lg shadow-md">
                    <h3 class="text-xl font-bold mb-2 text-gray-800">Completed Orders</h3>
                    <!-- Completed orders will be populated here -->
                </div>
            </div>
        </div>

        <!-- Tables Management -->
        <div id="tables" class="tab-content">
            <h2 class="text-3xl font-semibold mb-4 text-gray-800">Tables Management</h2>
            <button id="add-table-btn" class="bg-blue-500 text-white px-4 py-2 rounded mb-4 hover:bg-blue-600">Add New Table</button>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4" id="tables-list">
                <!-- Tables will be listed here -->
            </div>
        </div>

        <!-- Reports -->
        <div id="reports" class="tab-content">
            <h2 class="text-3xl font-semibold mb-4 text-gray-800">Daily Reports</h2>
            <div class="bg-white p-4 rounded-lg shadow-md">
                <h3 class="text-xl font-bold mb-2 text-gray-800">Today's Summary</h3>
                <p id="daily-report" class="text-lg">
                    Orders: 0 | Revenue: $0.00 | Popular Dishes: None
                </p>
                <canvas id="sales-chart" width="400" height="200" class="mt-4"></canvas>
            </div>
        </div>
    </main>

    <!-- Modals -->
    <div id="dish-modal" class="modal">
        <div class="bg-white p-6 rounded-lg w-full max-w-md">
            <h2 id="dish-modal-title" class="text-2xl font-semibold mb-4 text-gray-800">Add/Edit Dish</h2>
            <form id="dish-form">
                <input type="hidden" id="dish-id">
                <div class="mb-4">
                    <label class="block text-gray-700">Name</label>
                    <input type="text" id="dish-name" class="w-full p-2 border rounded" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700">Category</label>
                    <select id="dish-category" class="w-full p-2 border rounded" required>
                        <option>Appetizers</option>
                        <option>Main Courses</option>
                        <option>Desserts</option>
                        <option>Beverages</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700">Price ($)</label>
                    <input type="number" step="0.01" id="dish-price" class="w-full p-2 border rounded" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700">Description</label>
                    <textarea id="dish-description" class="w-full p-2 border rounded" rows="3"></textarea>
                </div>
                <div class="flex justify-end space-x-2">
                    <button type="button" id="close-dish-modal" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">Cancel</button>
                    <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Save</button>
                </div>
            </form>
        </div>
    </div>

    <div id="order-modal" class="modal">
        <div class="bg-white p-6 rounded-lg w-full max-w-md">
            <h2 class="text-2xl font-semibold mb-4 text-gray-800">New Order</h2>
            <form id="order-form">
                <div class="mb-4">
                    <label class="block text-gray-700">Customer Name</label>
                    <input type="text" id="order-customer" class="w-full p-2 border rounded" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700">Table Number</label>
                    <input type="number" id="order-table" class="w-full p-2 border rounded" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700">Select Dishes</label>
                    <div id="dish-selection">
                        <!-- Dishes for selection will be populated here -->
                    </div>
                </div>
                <div class="flex justify-end space-x-2">
                    <button type="button" id="close-order-modal" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">Cancel</button>
                    <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Place Order</button>
                </div>
            </form>
        </div>
    </div>

    <div id="table-modal" class="modal">
        <div class="bg-white p-6 rounded-lg w-full max-w-md">
            <h2 class="text-2xl font-semibold mb-4 text-gray-800">Add/Edit Table</h2>
            <form id="table-form">
                <input type="hidden" id="table-id">
                <div class="mb-4">
                    <label class="block text-gray-700">Table Number</label>
                    <input type="number" id="table-number" class="w-full p-2 border rounded" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700">Capacity</label>
                    <input type="number" id="table-capacity" class="w-full p-2 border rounded" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700">Status</label>
                    <select id="table-status" class="w-full p-2 border rounded" required>
                        <option value="available">Available</option>
                        <option value="occupied">Occupied</option>
                        <option value="reserved">Reserved</option>
                    </select>
                </div>
                <div class="flex justify-end space-x-2">
                    <button type="button" id="close-table-modal" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">Cancel</button>
                    <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Save</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Data structures
        let dishes = JSON.parse(localStorage.getItem('dishes')) || [];
        let orders = JSON.parse(localStorage.getItem('orders')) || [];
        let tables = JSON.parse(localStorage.getItem('tables')) || [];
        let orderIdCounter = parseInt(localStorage.getItem('orderIdCounter')) || 1;

        // Update dashboard
        function updateDashboard() {
            const today = new Date().toDateString();
            const todaysOrders = orders.filter(order => order.date === today);

            document.getElementById('total-orders').textContent = todaysOrders.length;

            const totalRevenue = todaysOrders.reduce((sum, order) => sum + parseFloat(order.total), 0);
            document.getElementById('total-revenue').textContent = '$' + totalRevenue.toFixed(2);

            const availableTables = tables.filter(table => table.status === 'available').length;
            document.getElementById('available-tables').textContent = availableTables;

            const pendingOrders = orders.filter(order => order.status === 'pending').length;
            document.getElementById('pending-orders').textContent = pendingOrders;

            // Update recent orders
            const recentOrdersElement = document.getElementById('recent-orders');
            recentOrdersElement.innerHTML = '';
            todaysOrders.slice(-5).reverse().forEach(order => {
                const orderElement = document.createElement('p');
                orderElement.textContent = `Order #${order.id}: ${order.customer} - $${order.total}`;
                recentOrdersElement.appendChild(orderElement);
            });
        }

        // Tab switching
        document.querySelectorAll('.tab-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const tabId = this.getAttribute('data-tab');
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                document.getElementById(tabId).classList.add('active');
            });
        });

        // Menu Management
        function renderMenu() {
            const menuList = document.getElementById('menu-list');
            menuList.innerHTML = '';
            dishes.forEach(dish => {
                const dishCard = document.createElement('div');
                dishCard.className = 'card bg-white p-4 rounded-lg shadow-md';
                dishCard.innerHTML = `
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/35f1990a-c4a7-4b1c-b2f4-3059899bb2c9.png" alt="Photorealistic image of ${dish.name}, a ${dish.category} dish with fresh ingredients, vibrant colors, plated beautifully on a restaurant table">
                    <h3 class="text-lg font-bold text-gray-800">${dish.name}</h3>
                    <p class="text-gray-600">${dish.category}</p>
                    <p class="text-green-600 font-bold">$${dish.price}</p>
                    <p class="text-sm text-gray-500">${dish.description}</p>
                    <div class="flex justify-end mt-4">
                        <button class="edit-dish bg-blue-500 text-white px-3 py-1 rounded mr-2 hover:bg-blue-600" data-id="${dish.id}">Edit</button>
                        <button class="delete-dish bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600" data-id="${dish.id}">Delete</button>
                    </div>
                `;
                menuList.appendChild(dishCard);
            });

            // Edit dish
            document.querySelectorAll('.edit-dish').forEach(btn => {
                btn.addEventListener('click', function() {
                    const dish = dishes.find(d => d.id == this.getAttribute('data-id'));
                    document.getElementById('dish-id').value = dish.id;
                    document.getElementById('dish-name').value = dish.name;
                    document.getElementById('dish-category').value = dish.category;
                    document.getElementById('dish-price').value = dish.price;
                    document.getElementById('dish-description').value = dish.description;
                    document.getElementById('dish-modal-title').textContent = 'Edit Dish';
                    document.getElementById('dish-modal').classList.add('active');
                });
            });

            // Delete dish
            document.querySelectorAll('.delete-dish').forEach(btn => {
                btn.addEventListener('click', function() {
                    if (confirm('Are you sure you want to delete this dish?')) {
                        dishes = dishes.filter(d => d.id != this.getAttribute('data-id'));
                        saveData();
                        renderMenu();
                    }
                });
            });
        }

        // Add/edit dish modal
        document.getElementById('add-dish-btn').addEventListener('click', function() {
            document.getElementById('dish-id').value = '';
            document.getElementById('dish-name').value = '';
            document.getElementById('dish-category').value = 'Appetizers';
            document.getElementById('dish-price').value = '';
            document.getElementById('dish-description').value = '';
            document.getElementById('dish-modal-title').textContent = 'Add New Dish';
            document.getElementById('dish-modal').classList.add('active');
        });

        document.getElementById('close-dish-modal').addEventListener('click', function() {
            document.getElementById('dish-modal').classList.remove('active');
        });

        document.getElementById('dish-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const id = document.getElementById('dish-id').value;
            const name = document.getElementById('dish-name').value;
            const category = document.getElementById('dish-category').value;
            const price = document.getElementById('dish-price').value;
            const description = document.getElementById('dish-description').value;

            if (id) {
                const dish = dishes.find(d => d.id == id);
                dish.name = name;
                dish.category = category;
                dish.price = price;
                dish.description = description;
            } else {
                const newDish = { id: Date.now(), name, category, price, description };
                dishes.push(newDish);
            }

            saveData();
            renderMenu();
            renderDishSelection();
            document.getElementById('dish-modal').classList.remove('active');
        });

        // Orders Management
        function renderOrders() {
            const pendingList = document.getElementById('pending-orders-list');
            const completedList = document.getElementById('completed-orders-list');

            pendingList.innerHTML = '<h3 class="text-xl font-bold mb-2 text-gray-800">Pending Orders</h3>';
            completedList.innerHTML = '<h3 class="text-xl font-bold mb-2 text-gray-800">Completed Orders</h3>';

            orders.forEach(order => {
                const orderElement = document.createElement('div');
                orderElement.className = 'bg-gray-50 p-3 rounded mb-2';
                orderElement.innerHTML = `
                    <p class="font-bold">Order #${order.id} - ${order.customer}</p>
                    <p>Table: ${order.table}, Date: ${order.date}, Total: $${order.total}</p>
                    <p>Dish(es): ${order.dishes.map(d => d.name).join(', ')}</p>
                    <button class="complete-order bg-green-500 text-white px-2 py-1 rounded mt-1 hover:bg-green-600" data-id="${order.id}">Mark Complete</button>
                `;

                const completeBtn = orderElement.querySelector('.complete-order');
                completeBtn.addEventListener('click', function() {
                    order.status = 'completed';
                    saveData();
                    renderOrders();
                    updateDashboard();
                });

                if (order.status === 'pending') {
                    pendingList.appendChild(orderElement);
                } else {
                    completedList.appendChild(orderElement);
                    completeBtn.style.display = 'none';
                }
            });
        }

        // New order modal
        document.getElementById('new-order-btn').addEventListener('click', function() {
            document.getElementById('order-customer').value = '';
            document.getElementById('order-table').value = '';
            renderDishSelection();
            document.getElementById('order-modal').classList.add('active');
        });

        document.getElementById('close-order-modal').addEventListener('click', function() {
            document.getElementById('order-modal').classList.remove('active');
        });

        function renderDishSelection() {
            const selectionDiv = document.getElementById('dish-selection');
            selectionDiv.innerHTML = '';
            dishes.forEach(dish => {
                const dishCheckbox = document.createElement('div');
                dishCheckbox.className = 'flex items-center mb-2';
                dishCheckbox.innerHTML = `
                    <input type="checkbox" id="dish-${dish.id}" value="${dish.id}" class="mr-2">
                    <label for="dish-${dish.id}" class="font-bold">${dish.name} - $${dish.price}</label>
                `;
                selectionDiv.appendChild(dishCheckbox);
            });
        }

        document.getElementById('order-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const customer = document.getElementById('order-customer').value;
            const table = document.getElementById('order-table').value;
            const selectedDishes = Array.from(document.querySelectorAll('#dish-selection input:checked')).map(cb => {
                const dish = dishes.find(d => d.id == cb.value);
                return { id: dish.id, name: dish.name, price: dish.price };
            });

            let total = 0;
            selectedDishes.forEach(dish => total += parseFloat(dish.price));

            const newOrder = {
                id: orderIdCounter++,
                customer,
                table,
                dishes: selectedDishes,
                total: total.toFixed(2),
                status: 'pending',
                date: new Date().toDateString()
            };

            orders.push(newOrder);
            saveData();
            renderOrders();
            updateDashboard();
            document.getElementById('order-modal').classList.remove('active');
        });

        // Tables Management
        function renderTables() {
            const tablesList = document.getElementById('tables-list');
            tablesList.innerHTML = '';
            tables.forEach(table => {
                const tableCard = document.createElement('div');
                tableCard.className = 'card bg-white p-4 rounded-lg shadow-md text-center';
                tableCard.style.backgroundColor = table.status === 'available' ? '#d4edda' : table.status === 'occupied' ? '#f8d7da' : '#fff3cd';
                tableCard.innerHTML = `
                    <h3 class="text-lg font-bold text-gray-800">Table ${table.number}</h3>
                    <p class="text-gray-600">Capacity: ${table.capacity}</p>
                    <p class="font-bold" style="color: ${table.status === 'available' ? 'green' : table.status === 'occupied' ? 'red' : 'orange'}">${table.status.charAt(0).toUpperCase() + table.status.slice(1)}</p>
                    <div class="mt-4">
                        <button class="edit-table bg-blue-500 text-white px-3 py-1 rounded mr-2 hover:bg-blue-600" data-id="${table.id}">Edit</button>
                        <button class="change-status bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600" data-id="${table.id}">Change Status</button>
                    </div>
                `;
                tablesList.appendChild(tableCard);
            });

            // Edit table
            document.querySelectorAll('.edit-table').forEach(btn => {
                btn.addEventListener('click', function() {
                    const table = tables.find(t => t.id == this.getAttribute('data-id'));
                    document.getElementById('table-id').value = table.id;
                    document.getElementById('table-number').value = table.number;
                    document.getElementById('table-capacity').value = table.capacity;
                    document.getElementById('table-status').value = table.status;
                    document.getElementById('table-modal').classList.add('active');
                });
            });

            // Change status
            document.querySelectorAll('.change-status').forEach(btn => {
                btn.addEventListener('click', function() {
                    const table = tables.find(t => t.id == this.getAttribute('data-id'));
                    const statusCycle = ['available', 'occupied', 'reserved'];
                    const nextStatus = statusCycle[(statusCycle.indexOf(table.status) + 1) % statusCycle.length];
                    table.status = nextStatus;
                    saveData();
                    renderTables();
                    updateDashboard();
                });
            });
        }

        // Add/edit table modal
        document.getElementById('add-table-btn').addEventListener('click', function() {
            document.getElementById('table-id').value = '';
            document.getElementById('table-number').value = '';
            document.getElementById('table-capacity').value = '';
            document.getElementById('table-status').value = 'available';
            document.getElementById('table-modal').classList.add('active');
        });

        document.getElementById('close-table-modal').addEventListener('click', function() {
            document.getElementById('table-modal').classList.remove('active');
        });

        document.getElementById('table-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const id = document.getElementById('table-id').value;
            const number = document.getElementById('table-number').value;
            const capacity = document.getElementById('table-capacity').value;
            const status = document.getElementById('table-status').value;

            if (id) {
                const table = tables.find(t => t.id == id);
                table.number = number;
                table.capacity = capacity;
                table.status = status;
            } else {
                const newTable = { id: Date.now(), number, capacity, status };
                tables.push(newTable);
            }

            saveData();
            renderTables();
            updateDashboard();
            document.getElementById('table-modal').classList.remove('active');
        });

        // Reports
        function updateReports() {
            const today = new Date().toDateString();
            const todaysOrders = orders.filter(order => order.date === today);
            const revenue = todaysOrders.reduce((sum, order) => sum + parseFloat(order.total), 0);
            const popularDishes = {};

            todaysOrders.forEach(order => {
                order.dishes.forEach(dish => {
                    popularDishes[dish.name] = (popularDishes[dish.name] || 0) + 1;
                });
            });

            const topDish = Object.keys(popularDishes).reduce((a, b) => popularDishes[a] > popularDishes[b] ? a : b, 'None');

            document.getElementById('daily-report').textContent = `Orders: ${todaysOrders.length} | Revenue: $${revenue.toFixed(2)} | Popular Dish: ${topDish}`;

            // Simple chart using Canvas API
            const canvas = document.getElementById('sales-chart');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillText('Daily Sales Chart (Simple)', 10, 20);
            ctx.fillRect(50, 40, (revenue / 100) * 20, 20); // Simple bar
        }

        // Save and load data
        function saveData() {
            localStorage.setItem('dishes', JSON.stringify(dishes));
            localStorage.setItem('orders', JSON.stringify(orders));
            localStorage.setItem('tables', JSON.stringify(tables));
            localStorage.setItem('orderIdCounter', orderIdCounter);
        }

        // Initialize
        function init() {
            renderMenu();
            renderOrders();
            renderTables();
            renderDishSelection();
            updateDashboard();
            updateReports();
        }

        init();
    </script>
</body>
</html>
</content>
</create_file>
